\ProvidesPackage{beamerthemeGlasgow3}
\usetheme{Rochester}

\RequirePackage{ifthen}
\RequirePackage{pgf}
\RequirePackage{graphicx}

\newif\ifbeamer@eco
\beamer@ecofalse
\def\logofile{UoG_keyline}
\DeclareOptionBeamer{eco}{\beamer@ecotrue\def\logofile{UoG_colour}}
\ProcessOptionsBeamer

\setbeamercovered{transparent}

\beamer@headheight=0.2\paperwidth

\definecolor{uogstonetwenty}{HTML}{E5E2E0}
\definecolor{uogstonefourty}{HTML}{CBC7C2}
\definecolor{uogstonesixty}{HTML}{B2ABA3}
\definecolor{uogstoneeighty}{HTML}{988F85}
\definecolor{uogstone}{HTML}{7F7467}
\definecolor{uogblue}{HTML}{0D3158}

\definecolor{fimsgray}{HTML}{7F7467}
\definecolor{fimslightgray}{HTML}{CBC7C2}
\definecolor{fimsblue}{HTML}{0D3158}

\setbeamercolor*{nix}{}
\ifbeamer@eco
  \setbeamercolor*{uogbox}{fg=black}
  \setbeamercolor*{Title bar}{fg=black}
\else
  \setbeamercolor*{uogbox}{fg=white,bg=uogblue}
  \setbeamercolor*{Title bar}{fg=white}
\fi
\setbeamercolor*{frametitle}{parent=Title bar}
\setbeamercolor*{block title}{bg=uogstone,fg=white}
\setbeamercolor*{block body}{bg=uogstonetwenty,fg=black}
\setbeamercolor*{normal text}{bg=white,fg=black}
\setbeamercolor*{section in head/foot}{fg=uogstonesixty}
\setbeamercolor*{author}{fg=black}
\usecolortheme[named=uogstone]{structure}

\setbeamerfont{section in head/foot}{size=\tiny,family=\sffamily}
\setbeamerfont{frametitle}{size=\large,family=\sffamily}
\setbeamerfont{block title}{family=\sffamily}
\setbeamerfont{title}{family=\sffamily}
\setbeamerfont{subtitle}{family=\sffamily}

\setbeamertemplate{title page}{

  \vspace*{0cm}
  
 {\usebeamerfont{title}\textcolor{black}\inserttitle\par}
 {\usebeamerfont{subtitle}\textcolor{uogblue}{\insertsubtitle}\par}
 
 \vspace*{2cm}

 {\usebeamerfont{author}\textcolor{uogblue}{\insertauthor}\par}
 {\usebeamerfont{date}\textcolor{uogblue}{\insertdate}\par}

 
}

\setbeamertemplate{frametitle}
{
  \vskip-0.25\beamer@headheight
  \vskip-\baselineskip
  \vskip-0.6cm
  \usebeamerfont*{frametitle}\hfill \insertframetitle\hspace*{-0.5cm}
  \vskip0.1cm
}

\setbeamertemplate{headline}
{
\begin{beamercolorbox}[wd=\paperwidth,ht=1.2cm]{uogbox}%
  \hspace{0.3cm}
      \includegraphics[width=0.15\paperwidth]{\logofile}\par\vspace{0.3cm}
    \end{beamercolorbox}%
  \vskip -1.7cm
  \linethickness{0pt}
  \framelatex{
  \begin{beamercolorbox}[wd=\paperwidth,ht=1\beamer@headheight]{nix}
  \end{beamercolorbox}}
}

\setbeamertemplate{footline} {
\begin{beamercolorbox}[wd=\paperwidth,ht=0.5cm]{section in head/foot}
\usebeamerfont{section in head/foot}%
    \ifthenelse{\equal{\thepage}{1}}{}{{}{} \hfill \insertframenumber/\inserttotalframenumber\hspace*{0.15cm}\vspace{0.1cm}}
\end{beamercolorbox}
}

%gets rid of navigation symbols
\setbeamertemplate{navigation symbols}{} 

\newcommand{\bgnone}{}
\newcommand{\bgsoft}{}
\newcommand{\bgtower}{\setbeamertemplate{background}{\includegraphics[height=\paperheight]{uog_tower}}}
\newcommand{\bgcloistures}{\setbeamertemplate{background}{\includegraphics[height=\paperheight]{uog_cloistures2}}}
\newcommand{\bgfull}{\bgtower}
\newcommand{\bgfullstrip}{\bgtower}

  \newenvironment<>{notitleblock}[0]{%
    \begin{actionenv}#1%
      \def\insertblocktitle{}%
      \par%
      \setbeamercolor*{block title}{bg=fimslightgray,fg=white}
      \usebeamertemplate{block begin}}
    {\par%
      \usebeamertemplate{block end}%
    \end{actionenv}}
